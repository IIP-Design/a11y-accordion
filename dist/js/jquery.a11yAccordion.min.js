/*
 *  a11y Accordion - v.10
 *  An accessible jquery accordion plugin.
 *  
 *
 *  Made by Nathan Kleekamp
 *  Under MIT License
 */
!function(a,b,c){function d(a){this.element=a,this._name=e,this.init()}var e="a11yAccordion",f={enter:13,space:32,end:35,home:36,left:37,up:38,right:39,down:40};d.prototype={init:function(){this.$allTitles=a(".js-accordion dt"),this.$titles=a("dt",this.element),this.$panels=a("dd",this.element),this.bindUiActions(),this.setDefaultAriaAttr()},bindUiActions:function(){this.click(),this.keyDown(),this.focus()},setDefaultAriaAttr:function(){var b=this;b.$titles.attr("aria-selected","false").not(":first").attr("tabindex","-1"),b.$panels.each(function(){b.hide(a(this))})},click:function(){var b=this;b.$titles.on("click",function(){b.toggle(a(this))}).on("selectstart",function(a){a.preventDefault()})},keyDown:function(){var b=this;b.$titles.on("keydown",function(c){switch(!0){case c.which===f.enter:b.toggle(a(this));break;case c.which===f.space:b.toggle(a(this));break;case c.which===f.right:b.moveTo("next");break;case c.which===f.down:b.moveTo("next");break;case c.which===f.left:b.moveTo("previous");break;case c.which===f.up:b.moveTo("previous");break;case c.which===f.home:b.moveTo("first");break;case c.which===f.end:b.moveTo("last")}}),b.$panels.on("keydown",function(b){b.which===f.up&&b.ctrlKey&&a(this).prev().focus()})},focus:function(){var b=this;b.$titles.on("focus",function(){var c=a(this),d=b.$titles.not(c),e=b.$allTitles.not(c);c.attr({"aria-selected":"true",tabindex:"0"}),d.attr("tabindex","-1"),e.attr("aria-selected","false")})},show:function(b){b.removeClass("hide").attr("aria-hidden","false").find("*").each(function(){a(this).attr("tabindex","0")}),b.prev().attr("aria-expanded","true")},hide:function(b){b.addClass("hide").attr("aria-hidden","true").find("*").each(function(){a(this).attr("tabindex","-1")}),b.prev().attr("aria-expanded","false")},toggle:function(a){var b=a.next();b.hasClass("hide")?this.show(b):this.hide(b)},moveTo:function(b){var d=this,e=a(c.activeElement),f=e.nextAll("dt").first(),g=e.prevAll("dt").first();switch(!0){case"first"===b:d.$titles.first().focus();break;case"last"===b:d.$titles.last().focus();break;case"next"===b:f.focus();break;case"previous"===b:g.focus()}}},a.fn[e]=function(b){return this.each(function(){a.data(this,"plugin_"+e)||a.data(this,"plugin_"+e,new d(this,b))})}}(jQuery,window,document);